<?xml version="1.0" encoding="utf-8" ?>
<elements>
    <info>
        <name>Ranger</name>
        <description>The Ranger class from the Player’s Handbook 2024.</description>
        <author url="https://marketplace.dndbeyond.com/core-rules/3709000">Wizards of the Coast</author>
        <update version="0.0.1">
            <file name="class-ranger.xml" url="https://raw.githubusercontent.com/dnd-group/dnd5e_2024/master/core/players-handbook/classes/class-ranger.xml" />
        </update>
    </info>

    <element name="Ranger" type="Class" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_RANGER">
        <description>
            <p class="flavor">Far from bustling cities, amid the trees of trackless forests and across wide plains, Rangers keep their unending watch in the wilderness. Rangers learn to track their quarry as a predator does, moving stealthily through the wilds and hiding themselves in brush and rubble.</p>
            <p class="indent">Thanks to their connection with nature, Rangers can also cast spells that harness primal powers of the wilderness. A Ranger's talents and magic are honed with deadly focus to protect the world from the ravages of monsters and tyrants.</p>
            <div class="sidebar">
                <h5>CORE RANGER TRAITS</h5>
                <table>
                    <tr><td><b>Primary Ability</b></td><td>Dexterity and Wisdom</td></tr>
                    <tr><td><b>Hit Point Die</b></td><td>D10 per Ranger level</td></tr>
                    <tr><td><b>Saving Throw Proficiencies</b></td><td>Strength and Dexterity</td></tr>
                    <tr><td><b>Skills Proficiencies</b></td><td><i>Choose 3:</i> Animal Handling, Athletics, Insight, Investigation, Nature, Perception, Stealth, or Survival</td></tr>
                    <tr><td><b>Weapon Proficiencies</b></td><td>Simple and Martial weapons</td></tr>
                    <tr><td><b>Armor Training</b></td><td>Light and Medium armor and Shields</td></tr>
                    <tr><td><b>Starting Equipment</b></td><td><i>Choose A or B:</i> (A) Studded Leather Armor, Scimitar, Shortsword, Longbow, 20 Arrows, Quiver, Druidic Focus (sprig of mistletoe), Explorer's Pack, and 7 CP; or (B) 150 GP</td></tr>
                </table>
            </div>
            <h5 style="margin-top:-2em">AS A LEVEL 1 CHARACTER</h5>
            <ul style="margin-top:-1em; margin-bottom: 0.5em">
                <li>Gain all the traits in the Core Ranger Traits table. </li>
                <li>Gain the Ranger's level 1 features, which are listed in the Ranger Features table.</li>
            </ul>
            <h5 style="margin-top: 0px">AS A MULTICLASS CHARACTER</h5>
            <ul style="margin-top:-1em">
                <li>Gain the following traits from the Core Ranger Traits table: Hit Point Die, proficiency with Martial weapons, proficiency in one skill of your choice from the Ranger's skill list, and training with Light and Medium armor and Shields.</li>
                <li>Gain the Ranger's level 1 features, which are listed in the Ranger Features table. See the multiclassing rules in chapter 2 to determine your available spell slots.</li>
            </ul>
            <h5>RANGER FEATURES</h5>
            <table class="class-features">
                <tr style="font-weight: bold">
                    <td rowspan="2">Level</td>
                    <td class="col-30 left" rowspan="2">Class Features</td>
                    <td rowspan="2">Favored<br />Enemy</td>
                    <td rowspan="2">Prepared<br />Spells</td>
                    <td colspan="5" style="vertical-align:bottom; border-bottom: 0px">Spell Slots per Spell Level</td>
                </tr>
                <tr style="font-weight: bold"><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td></tr>
                <tr><td> 1</td><td class="left">Spellcasting, Favored Enemy, Weapon Mastery</td><td>2</td><td>2</td><td>2</td><td>—</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 2</td><td class="left">Deft Explorer, Fighting Style</td><td>2</td><td>3</td><td>2</td><td>—</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 3</td><td class="left">Ranger Subclass</td><td>2</td><td>4</td><td>3</td><td>—</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 4</td><td class="left">Ability Score Improvement</td><td>2</td><td>5</td><td>3</td><td>—</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 5</td><td class="left">Extra Attack</td><td>3</td><td>6</td><td>4</td><td>2</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 6</td><td class="left">Roving</td><td>3</td><td>6</td><td>4</td><td>2</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 7</td><td class="left">Subclass feature</td><td>3</td><td>7</td><td>4</td><td>3</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 8</td><td class="left">Ability Score Improvement</td><td>3</td><td>7</td><td>4</td><td>3</td><td>—</td><td>—</td><td>—</td></tr>
                <tr><td> 9</td><td class="left">Expertise</td><td>4</td><td>9</td><td>4</td><td>3</td><td>2</td><td>—</td><td>—</td></tr>
                <tr><td>10</td><td class="left">Tireless</td><td>4</td><td>9</td><td>4</td><td>3</td><td>2</td><td>—</td><td>—</td></tr>
                <tr><td>11</td><td class="left">Subclass feature</td><td>4</td><td>10</td><td>4</td><td>3</td><td>3</td><td>—</td><td>—</td></tr>
                <tr><td>12</td><td class="left">Ability Score Improvement</td><td>4</td><td>10</td><td>4</td><td>3</td><td>3</td><td>—</td><td>—</td></tr>
                <tr><td>13</td><td class="left">Relentless Hunter</td><td>5</td><td>11</td><td>4</td><td>3</td><td>3</td><td>1</td><td>—</td></tr>
                <tr><td>14</td><td class="left">Nature's Veil</td><td>5</td><td>11</td><td>4</td><td>3</td><td>3</td><td>1</td><td>—</td></tr>
                <tr><td>15</td><td class="left">Subclass feature</td><td>5</td><td>12</td><td>4</td><td>3</td><td>3</td><td>2</td><td>—</td></tr>
                <tr><td>16</td><td class="left">Ability Score Improvement</td><td>5</td><td>12</td><td>4</td><td>3</td><td>3</td><td>2</td><td>—</td></tr>
                <tr><td>17</td><td class="left">Precise Hunter</td><td>6</td><td>14</td><td>4</td><td>3</td><td>3</td><td>3</td><td>1</td></tr>
                <tr><td>18</td><td class="left">Feral Senses</td><td>6</td><td>14</td><td>4</td><td>3</td><td>3</td><td>3</td><td>1</td></tr>
                <tr><td>19</td><td class="left">Epic Boon</td><td>6</td><td>15</td><td>4</td><td>3</td><td>3</td><td>3</td><td>2</td></tr>
                <tr><td>20</td><td class="left">Foe Slayer</td><td>6</td><td>15</td><td>4</td><td>3</td><td>3</td><td>3</td><td>2</td></tr>
            </table>
            <h4>RANGER CLASS FEATURES</h4>
            <p>As a Ranger, you gain the following class features when you reach the specified Ranger levels. These features are listed in the Ranger Features table.</p>
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_SPELLCASTING" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FAVORED_ENEMY" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_WEAPON_MASTERY" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_DEFT_EXPLORER" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FIGHTING_STYLE" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_RANGER_ARCHETYPE" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_ABILITY_SCORE_IMPROVEMENT" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EXTRA_ATTACK" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_ROVING" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EXPERTISE" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_TIRELESS" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_RELENTLESS_HUNTER" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_NATURES_VEIL" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_PRECISE_HUNTER" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FERAL_SENSES" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EPIC_BOON" />
            <div element="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FOE_SLAYER" />
        </description>
        <sheet display="false"/>
        <setters>
            <set name="short">A Wandering Warrior Imbued with Primal Magic</set>
            <set name="hd">d10</set>
        </setters>
        <rules>
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_ARMOR_PROFICIENCY_LIGHT_ARMOR" />
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_ARMOR_PROFICIENCY_MEDIUM_ARMOR" />
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_ARMOR_PROFICIENCY_SHIELDS" />
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_WEAPON_PROFICIENCY_SIMPLE_WEAPONS" requirements="!ID_WOTC_PHB24_MULTICLASS_RANGER" />
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_WEAPON_PROFICIENCY_MARTIAL_WEAPONS" />
            <grant type="Proficiency" id="ID_PROFICIENCY_WEAPON_PROFICIENCY_SIMPLE_WEAPONS" requirements="!ID_WOTC_PHB24_MULTICLASS_RANGER, ID_WOTC_SOURCE_PLAYERS_HANDBOOK" />
            <grant type="Proficiency" id="ID_PROFICIENCY_WEAPON_PROFICIENCY_MARTIAL_WEAPONS" requirements="!ID_WOTC_PHB24_MULTICLASS_RANGER, ID_WOTC_SOURCE_PLAYERS_HANDBOOK" />
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_SAVINGTHROW_STRENGTH" requirements="!ID_WOTC_PHB24_MULTICLASS_RANGER" />
            <grant type="Proficiency" id="ID_WOTC_PHB24_PROFICIENCY_SAVINGTHROW_DEXTERITY" requirements="!ID_WOTC_PHB24_MULTICLASS_RANGER" />
            <select type="Proficiency" name="Skill Proficiency (Ranger)" supports="Skill,Ranger" number="3" requirements="!ID_WOTC_PHB24_MULTICLASS_RANGER" />

            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_SPELLCASTING" level="1"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FAVORED_ENEMY" level="1"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_WEAPON_MASTERY" level="1" />
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_DEFT_EXPLORER" level="2"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FIGHTING_STYLE" level="2"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_RANGER_ARCHETYPE" level="3"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_ABILITY_SCORE_IMPROVEMENT" level="4"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EXTRA_ATTACK" level="5"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_ROVING" level="6"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EXPERTISE" level="9"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_TIRELESS" level="10"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_RELENTLESS_HUNTER" level="13"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_NATURES_VEIL" level="14"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_PRECISE_HUNTER" level="17" />
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FERAL_SENSES" level="18"/>
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EPIC_BOON" level="19" />
            <grant type="Class Feature" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FOE_SLAYER" level="20"/>
        </rules>
        <multiclass id="ID_WOTC_PHB24_MULTICLASS_RANGER">
            <prerequisite>Dexterity 13 and Wisdom 13</prerequisite>
            <requirements>([dex:13],[wis:13]),!(ID_WOTC_PHB_CLASS_RANGER||ID_WOTC_PHB_MULTICLASS_RANGER)</requirements>
            <setters>
                <set name="multiclass proficiencies">Light armor, medium armor, shields, martial weapons, one skill from the class's skill list</set>
            </setters>
            <rules>
                <grant type="Grants" id="ID_INTERNAL_GRANT_MULTICLASS" />
                <select type="Proficiency" name="Skill Proficiency (Ranger)" supports="Skill,Ranger"/>
            </rules>
        </multiclass>
    </element>

    <element name="Level 1: Spellcasting" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_SPELLCASTING">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_SPELLCASTING</requirements>
        <description>
            <p>You have learned to channel the magical essence of nature to cast spells.</p>
            <p class="indent"><b><i>Spell Slots.</i></b> The Ranger Features table shows how many spell slots you have to cast your level 1+ spells. You regain all expended slots when you finish a Long Rest.</p>
            <p class="indent"><b><i>Prepared Spells of Level 1+.</i></b> You prepare the list of level 1+ spells that are available for you to cast with this feature. To start, choose two level 1 Ranger spells. <i>Cure Wounds</i> and <i>Ensnaring Strike</i> are recommended.</p>
            <p class="indent">The number of spells on your list increases as you gain Ranger levels, as shown in the Prepared Spells column of the Ranger Features table. Whenever that number increases, choose additional Ranger spells until the number of spells on your list matches the number in the Ranger Features table. The chosen spells must be of a level for which you have spell slots. For example, if you're a level 5 Ranger, your list of prepared spells can include six Ranger spells of level 1 or 2 in any combination.</p>
            <p class="indent">If another Ranger feature gives you spells that you always have prepared, those spells don't count against the number of spells you can prepare with this feature, but those spells otherwise count as Ranger spells for you.</p>
            <p class="indent"><b><i>Changing Your Prepared Spells.</i></b> Whenever you finish a Long Rest, you can replace one spell on your list with another Ranger spell for which you have spell slots.</p>
            <p class="indent"><b><i>Spellcasting Ability.</i></b> Wisdom is your spellcasting ability for your Ranger spells.</p>
            <p class="indent"><b><i>Spellcasting Focus.</i></b> You can use a Druidic Focus as a Spellcasting Focus for your Ranger spells.</p>
            <center>
                <p><strong>Spell save DC</strong> = 8 + your proficiency bonus + your Wisdom modifier</p>
                <p><strong>Spell attack modifier</strong> = your proficiency bonus + your Wisdom modifier</p>
            </center>
        </description>
        <sheet alt="Spellcasting">
            <description>Whenever you finish a Long Rest, you can replace one spell on your list with another Ranger spell.</description>
        </sheet>
        <spellcasting name="Ranger" ability="Wisdom" allowReplace="true">
            <list>Ranger</list>
        </spellcasting>
        <rules>
            <grant type="Grants" id="ID_INTERNAL_GRANT_MULTICLASS_SPELLCASTING_SLOTS_HALF" requirements="ID_INTERNAL_GRANT_MULTICLASS"/>
            <stat name="ranger:spellcasting:slots:1" value="2" level="1" />
            <stat name="ranger:spellcasting:slots:1" value="1" level="3" />
            <stat name="ranger:spellcasting:slots:1" value="1" level="5" />
            <stat name="ranger:spellcasting:slots:2" value="2" level="5" />
            <stat name="ranger:spellcasting:slots:2" value="1" level="7" />
            <stat name="ranger:spellcasting:slots:3" value="2" level="9" />
            <stat name="ranger:spellcasting:slots:3" value="1" level="11" />
            <stat name="ranger:spellcasting:slots:4" value="1" level="13" />
            <stat name="ranger:spellcasting:slots:4" value="1" level="15" />
            <stat name="ranger:spellcasting:slots:4" value="1" level="17" />
            <stat name="ranger:spellcasting:slots:5" value="1" level="17" />
            <stat name="ranger:spellcasting:slots:5" value="1" level="19" />

            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="1" number="2" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="2" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="3" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="4" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="5" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="7" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="9" number="2" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="11" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="13" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="15" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="17" number="2" spellcasting="Ranger" />
            <select type="Spell" name="Spell (Ranger)" supports="$(spellcasting:list),$(spellcasting:slots)" level="19" spellcasting="Ranger" />
        </rules>
    </element>

    <element name="Level 1: Favored Enemy" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FAVORED_ENEMY">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FAVORED_ENEMY</requirements>
        <description>
            <p>You always have the <i>Hunter's Mark</i> spell prepared. You can cast it twice without expending a spell slot, and you regain all expended uses of this ability when you finish a Long Rest.</p>
            <p class="indent">The number of times you can cast the spell without a spell slot increases when you reach certain Ranger levels, as shown in the Favored Enemy column of the Ranger Features table.</p>
        </description>
        <sheet alt="Favored Enemy" usage="{{favored enemy:usage}}/Long Rest">
            <description>You can cast Hunter's Mark spell without expending a spell slot.</description>
        </sheet>
        <rules>
            <grant type="Spell" id="ID_WOTC_PHB24_SPELL_HUNTERS_MARK" spellcasting="Ranger" />
            <stat name="favored enemy:usage" value="2" bonus="base" />
            <stat name="favored enemy:usage" value="3" bonus="base" level="5"/>
            <stat name="favored enemy:usage" value="4" bonus="base" level="9"/>
            <stat name="favored enemy:usage" value="5" bonus="base" level="13"/>
            <stat name="favored enemy:usage" value="6" bonus="base" level="17"/>
        </rules>
    </element>

    <element name="Level 1: Weapon Mastery" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_WEAPON_MASTERY">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_WEAPON_MASTERY</requirements>
        <description>
            <p>Your training with weapons allows you to use the mastery properties of two kinds of weapons of your choice with which you have proficiency, such as Longbows and Shortswords.</p>
            <p class="indent">Whenever you finish a Long Rest, you can change the kinds of weapons you chose. For example, you could switch to using the mastery properties of Scimitars and Longswords.</p>
        </description>
        <sheet alt="Weapon Mastery">
            <description>Whenever you finish a Long Rest, you can change one of the weapons you previously chosen for a different one.</description>
        </sheet>
        <rules>
            <select type="Class Feature" name="Weapon Mastery" supports="Weapon Mastery" number="2"/>
        </rules>
    </element>

    <element name="Level 2: Deft Explorer" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_DEFT_EXPLORER">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_DEFT_EXPLORER</requirements>
        <description>
            <p>Thanks to your travels, you gain the following benefits.</p>
            <p class="indent"><i>Expertise.</i> Choose one of your skill proficiencies with which you lack Expertise. You gain Expertise in that skill.</p>
            <p class="indent"><i>Languages.</i> You know two languages of your choice from the language tables in chapter 2.</p>
        </description>
        <sheet display="false"/>
        <rules>
            <select type="Proficiency" name="Expertise (Deft Explorer)" supports="Expertise"/>
            <select type="Language" name="Language (Deft Explorer)" supports="Standard||Exotic" number="2" />
        </rules>
    </element>

    <element name="Level 2: Fighting Style" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FIGHTING_STYLE">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FIGHTING_STYLE</requirements>
        <description>
            <p>You gain a Fighting Style feat of your choice. Instead of choosing one of those feats, you can choose the option below.</p>
            <p class="indent"><b><i>Druidic Warrior.</i></b> You learn two Druid cantrips of your choice. <i>Guidance</i> and <i>Starry Wisp</i> are recommended. The chosen cantrips count as Ranger spells for you, and Wisdom is your spellcasting ability for them. Whenever you gain a Ranger level, you can replace one of these cantrips with another Druid cantrip.</p>
        </description>
        <sheet display="false"/>
        <rules>
            <select type="Feat" name="Fighting Style (Ranger 2)" supports="Fighting Style||PHB24 Druidic Warrior Fighting Style" />
        </rules>
    </element>
    <element name="Druidic Warrior" type="Feat" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_FEAT_DRUIDIC_WARRIOR">
        <supports>PHB24 Druidic Warrior Fighting Style</supports>
        <description>
            <p>You learn two Druid cantrips of your choice (see the Druid class's section for a list of Druid spells). <i>Guidance</i> and <i>Starry Wisp</i> are recommended. The chosen cantrips count as Ranger spells for you, and Wisdom is your spellcasting ability for them. Whenever you gain a Ranger level, you can replace one of these cantrips with another Druid cantrip.</p>
        </description>
        <sheet>
            <description>Whenever you gain a Ranger level, you can replace one of the chosen cantrips with another Druid cantrip.</description>
        </sheet>
        <rules>
            <select type="Spell" name="Druidic Warrior" supports="0, Druid" number="2" spellcasting="Ranger" />
        </rules>
    </element>

    <element name="Level 3: Ranger Subclass" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_RANGER_ARCHETYPE">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_RANGER_ARCHETYPE</requirements>
        <description>
            <p>You gain a Ranger subclass of your choice. A subclass is a specialization that grants you features at certain Ranger levels. For the rest of your career, you gain each of your subclass's features that are of your Ranger level or lower.</p>
        </description>
        <sheet display="false" />
        <rules>
            <select type="Archetype" name="Ranger Subclass" supports="Ranger Archetype||Ranger Subclass" />
        </rules>
    </element>

    <element name="Level 4: Ability Score Improvement" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_ABILITY_SCORE_IMPROVEMENT">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_ABILITY_SCORE_IMPROVEMENT</requirements>
        <description>
            <p>You gain the Ability Score Improvement feat or another feat of your choice for which you qualify. You gain this feature again at Ranger levels 8, 12, and 16.</p>
        </description>
        <sheet display="false" />
        <rules>
            <select type="Feat" name="Ability Score Improvement (Ranger 4)" supports="!Boon" />
            <select type="Feat" name="Ability Score Improvement (Ranger 8)" supports="!Boon" level="8" />
            <select type="Feat" name="Ability Score Improvement (Ranger 12)" supports="!Boon" level="12" />
            <select type="Feat" name="Ability Score Improvement (Ranger 16)" supports="!Boon" level="16" />
        </rules>
    </element>

    <element name="Level 5: Extra Attack" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EXTRA_ATTACK">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_EXTRA_ATTACK</requirements>
        <description>
            <p>You can attack twice instead of once whenever you take the Attack action on your turn.</p>
        </description>
        <sheet display="false" />
        <rules>
            <stat name="extra attack:count" value="2" bonus="extra attack" />
        </rules>
    </element>

    <element name="Level 6: Roving" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_ROVING">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_ROVING</requirements>
        <description>
            <p>Your Speed increases by 10 feet while you aren't wearing Heavy armor. You also have a Climb Speed and a Swim Speed equal to your Speed.</p>
        </description>
        <sheet display="false" />
        <rules>
            <stat name="speed:misc" value="10" equipped="![armor:heavy]"/>
            <stat name="speed:swim" value="speed" bonus="base" />
            <stat name="speed:climb" value="speed" bonus="base" />
        </rules>
    </element>

    <element name="Level 9: Expertise" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EXPERTISE">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_EXPERTISE</requirements>
        <description>
            <p>Choose two of your skill proficiencies with which you lack Expertise. You gain Expertise in those skills.</p>
        </description>
        <sheet display="false" />
        <rules>
            <select type="Proficiency" name="Expertise (Ranger 9)" number="2" supports="Expertise"/>
        </rules>
    </element>

    <element name="Level 10: Tireless" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_TIRELESS">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_TIRELESS</requirements>
        <description>
            <p>Primal forces now help fuel you on your journeys, granting you the following benefits.</p>
            <p class="indent"><b><i>Temporary Hit Points.</i></b> As a Magic action, you can give yourself a number of Temporary Hit Points equal to 1d8 plus your Wisdom modifier (minimum of 1). You can use this action a number of times equal to your Wisdom modifier (minimum of once), and you regain all expended uses when you finish a Long Rest.</p>
            <p class="indent"><b><i>Decrease Exhaustion.</i></b> Whenever you finish a Short Rest, your Exhaustion level, if any, decreases by 1.</p>
        </description>
        <sheet alt="Tireless" action="Action" usage="{{tireless:usage}}/Long Rest">
            <description>You can give yourself a number of Temporary Hit Points equal to 1d8 + {{tireless:thp}}. &#13;
                In addition, whenever you finish a Short Rest, your Exhaustion level decreases by 1.</description>
        </sheet>
        <rules>
            <stat name="tireless:thp" value="1" bonus="base" />
            <stat name="tireless:thp" value="wisdom:modifier" bonus="base" />
            <stat name="tireless:usage" value="1" bonus="base" />
            <stat name="tireless:usage" value="wisdom:modifier" bonus="base" />
        </rules>
    </element>

    <element name="Level 13: Relentless Hunter" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_RELENTLESS_HUNTER">
        <requirements>!(ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_RELENTLESS_HUNTER||ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_PRECISE_HUNTER||ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FOE_SLAYER)</requirements>
        <description>
            <p>Taking damage can't break your Concentration on Hunter's Mark.</p>
        </description>
        <sheet alt="Relentless Hunter">
            <description>Taking damage can't break your Concentration on Hunter's Mark.</description>
            <description level="17">Taking damage can't break your Concentration on Hunter's Mark, and you have Advantage against the creature marked by it.</description>
            <description level="20">The damage of your Hunter's Mark is a d10. Taking damage can't break your Concentration on it, and you have Advantage against the creature marked by it.</description>
        </sheet>
    </element>

    <element name="Level 14: Nature's Veil" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_NATURES_VEIL">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_NATURES_VEIL</requirements>
        <description>
            <p>You invoke spirits of nature to magically hide yourself. As a Bonus Action, you can give yourself the Invisible condition until the end of your next turn.</p>
            <p class="indent">You can use this feature a number of times equal to your Wisdom modifier (minimum of once), and you regain all expended uses when you finish a Long Rest.</p>
        </description>
        <sheet alt="Nature's Veil" action="Bonus Action" usage="{{natures veil:usage}}/Long Rest">
            <description>You can give yourself the Invisible condition until the end of your next turn.</description>
        </sheet>
        <rules>
            <stat name="natures veil:usage" value="1" bonus="base" />
            <stat name="natures veil:usage" value="wisdom:modifier" bonus="base" />
        </rules>
    </element>

    <element name="Level 17: Precise Hunter" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_PRECISE_HUNTER">
        <requirements>!(ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_RELENTLESS_HUNTER||ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_PRECISE_HUNTER||ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FOE_SLAYER)</requirements>
        <description>
            <p>You have Advantage on attack rolls against the creature currently marked by your <i>Hunter's Mark.</i></p>
        </description>
        <sheet display="false" />
    </element>

    <element name="Level 18: Feral Senses" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FERAL_SENSES">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FERAL_SENSES</requirements>
        <description>
            <p>Your connection to the forces of nature grants you Blindsight with a range of 30 feet.</p>
        </description>
        <sheet display="false" />
        <rules>
            <grant type="Vision" id="ID_VISION_BLINDSIGHT" />
            <stat name="blindsight:range" value="30" bonus="base" />
        </rules>
    </element>

    <element name="Level 19: Epic Boon" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_EPIC_BOON">
        <requirements>!ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_EPIC_BOON</requirements>
        <description>
            <p>You gain an Epic Boon feat or another feat of your choice for which you qualify. Boon of Dimensional Travel is recommended.</p>
        </description>
        <sheet display="false"/>
        <rules>
            <select type="Feat" name="Epic Boon (Ranger 19)" level="19" />
        </rules>
    </element>

    <element name="Level 20: Foe Slayer" type="Class Feature" source="Player’s Handbook 2024" id="ID_WOTC_PHB24_CLASS_FEATURE_RANGER_FOE_SLAYER">
        <requirements>!(ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_RELENTLESS_HUNTER||ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_PRECISE_HUNTER||ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FOE_SLAYER)</requirements>
        <description>
            <p>The damage die of your Hunter's Mark is a d10 rather than a d6.</p>
        </description>
        <sheet display="false" />
    </element>

    <!--Feature Replacement Grants-->
    <element name="Spellcasting Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_SPELLCASTING" />
    <element name="Favored Enemy Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FAVORED_ENEMY" />
    <element name="Weapon Mastery Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_WEAPON_MASTERY" />
    <element name="Deft Explorer Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_DEFT_EXPLORER" />
    <element name="Fighting Style Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FIGHTING_STYLE" />
    <element name="Ranger Subclass Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_RANGER_ARCHETYPE" />
    <element name="Ability Score Improvement Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_ABILITY_SCORE_IMPROVEMENT" />
    <element name="Extra Attack Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_EXTRA_ATTACK" />
    <element name="Roving Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_ROVING" />
    <element name="Expertise Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_EXPERTISE" />
    <element name="Tireless Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_TIRELESS" />
    <element name="Relentless Hunter Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_RELENTLESS_HUNTER" />
    <element name="Nature's Veil Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_NATURES_VEIL" />
    <element name="Precise Hunter Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_PRECISE_HUNTER" />
    <element name="Feral Senses Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FERAL_SENSES" />
    <element name="Epic Boon Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_EPIC_BOON" />
    <element name="Foe Slayer Feature Replacement" type="Grants" source="Internal" id="ID_INTERNAL_PHB24_FEATURE_REPLACEMENT_RANGER_FOE_SLAYER" />

</elements>